<div class="back-wraper">
    <div style="cursor: pointer;width: 100px;" (click)="returnToList()">
        <i nz-icon nzType="left" nzTheme="outline"></i>
        <span>返回</span>
    </div>
</div>

<div class="card-container">
    <div class="form-item">
        <span>权限设置: </span>

        <!-- <nz-table #nzTable [nzData]="menuList">
            <tbody>
                <ng-template ngFor let-data [ngForOf]="nzTable.data">
                    <tr>
                        <td nzShowExpand [(nzExpand)]="mapOfExpandData[data.id]"></td>
                        <td>{{ data.name }}</td>
                        <td>{{ data.age }}</td>
                        <td>{{ data.address }}</td>
                    </tr>
                    <tr [nzExpand]="mapOfExpandData[data.id]">
                        <td></td>
                        <td colspan="3">{{ data.description }}</td>
                    </tr>
                </ng-template>
            </tbody>
        </nz-table> -->

        <nz-collapse [nzBordered]="false">
            <nz-collapse-panel *ngFor="let firstItem of menuList;index as fr" [nzHeader]="firstItem.name" [nzActive]="true">
                <div *ngFor="let secondItem of firstItem.children;index as key" class="checkbox-container">
                    <div *ngFor="let thirdItem of secondItem.children;index as th" [ngClass]="{'third-list': th !== 0}">
                        <div>
                            <label nz-checkbox [(ngModel)]="thirdItem.allChecked" (ngModelChange)="updateAllChecked(fr,key,th)"
                                [nzIndeterminate]="thirdItem.indeterminate">
                                {{thirdItem.name}}
                            </label>
                        </div>
                        <br />
                        <nz-checkbox-group [(ngModel)]="thirdItem.auths" (ngModelChange)="updateSingleChecked(fr,key,th)">
                            {{thirdItem.auths}}
                        </nz-checkbox-group>
                    </div>
                </div>

            </nz-collapse-panel>
        </nz-collapse>

        <div class="footer">
            <button nz-button nzType="primary" (click)="save()"> 保存 </button>
            <button nz-button nzType="" (click)="returnToList()"> 取消 </button>
        </div>
    </div>
</div>
