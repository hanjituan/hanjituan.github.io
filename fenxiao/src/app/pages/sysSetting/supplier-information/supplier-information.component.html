<div class="emp-info">
    <div class="operate-bar">
        <div class="operate-item">
            <nz-select nzShowSearch nzAllowClear nzPlaceHolder="请选择" [(ngModel)]="filters.enabled">
                <nz-option nzLabel="全部" nzValue=""></nz-option>
                <nz-option nzLabel="停用" nzValue="0"></nz-option>
                <nz-option nzLabel="启用" nzValue="1"></nz-option>
            </nz-select>
        </div>
        <div class="operate-item">
            <nz-input-group [nzPrefix]="prefixTemplateUser">
                <input type="text" nz-input placeholder="请输入供应商名称" [(ngModel)]="filters.keyword" />
            </nz-input-group>
            <ng-template #prefixTemplateUser><i nz-icon nzType="user"></i></ng-template>
        </div>

        <div class="operate-item">
            <button nz-button nzType="primary" (click)="getDataList()">
                <i class="iconfont fxsousuo"></i>
                搜索</button>
            <button nz-button (click)="restCondition()">
                <i class="iconfont fxreset"></i>
                重置
            </button>
        </div>
    </div>
    <div class="container">
        <app-ufast-table-nav [tableConfig]="tableConfig" [leftTemplate]="leftNav" [rightTemplate]="rightNav">
        </app-ufast-table-nav>
        <ng-template #leftNav>
            <button nz-button nzType="primary" (click)="openDialog('add')">
                <i class="iconfont fxadded"></i>
                新增
            </button>
            <button nz-button nzType="default" (click)="disableSupllier(0)">
                <i class="iconfont fxstop"></i>
                停用
            </button>
            <button nz-button nzType="default" (click)="disableSupllier(1)">
                <i class="iconfont fxenable"></i>
                启用
            </button>
            <button nz-button nzType="default" (click)="deleteSupllier()">
                <i class="iconfont fxdelete"></i>
                删除
            </button>
        </ng-template>

        <ng-template #rightNav>
            <button class="right-oprate-icon" nz-button style="font-size: 16px" (click)="getDataList()">
                <i class="iconfont fxreset"></i>
            </button>
        </ng-template>

        <app-ufast-table [tableConfig]="tableConfig" (selectedChange)="checkTableItem($event)" [dataList]="dataList"
            (updateList)="getDataList($event)">
        </app-ufast-table>
        <ng-template #operationTpl let-id="id" let-enabled="enabled" let-item="_item">
            <button class="primary-color" nz-button nzType="link" (click)="openDialog('edit',item)">
                <i class="iconfont fxedit"></i>
                编辑
            </button>
            <nz-divider nzType="vertical"></nz-divider>
            <button class="primary-color" nz-button nzType="link" (click)="disableSuplier(id,enabled ===0 ? 1 : 0 )">
                <i class="iconfont fxenable"></i>
                {{enabled ? '停用' : '启用'}}
            </button>
        </ng-template>
        <ng-template #stateTpl let-enabled="enabled" let-item="_item">
            <nz-badge *ngIf="enabled" nzStatus="success" nzText="已启用"></nz-badge>
            <nz-badge *ngIf="!enabled" nzStatus="error" nzText="已停用"></nz-badge>
        </ng-template>
        <ng-template #seqNoTpl let-index="_index">
            {{index + 1}}
        </ng-template>
    </div>

    <nz-modal [(nzVisible)]="isVisible" [nzTitle]="dialogTitle" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()">
        <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()">
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="staffCode">供应商名称</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="请输入供应商名称">
                    <input nz-input formControlName="name" id="staffCode" placeholder="请输入供应商名称" />
                </nz-form-control>
            </nz-form-item>

            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="staffName">联系人</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="请输入联系人">
                    <input nz-input formControlName="concatPeople" id="staffName" placeholder="请输入联系人" />
                </nz-form-control>
            </nz-form-item>

            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="jobLevel">联系电话</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="请输入联系电话">
                    <input nz-input formControlName="phone" id="staffName" placeholder="请选择联系电话" maxlength="11" />
                </nz-form-control>
            </nz-form-item>
        </form>
    </nz-modal>
</div>
